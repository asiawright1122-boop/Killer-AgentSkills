---
import Layout from '../../../layouts/Layout.astro';
import { SUPPORTED_LOCALES, loadMessages, useTranslations, type Locale } from '../../../i18n';

export const prerender = false;

// Validate locale
const { locale } = Astro.params;
if (!locale || !SUPPORTED_LOCALES.includes(locale as Locale)) {
  return new Response(null, { status: 404, statusText: 'Not Found' });
}

const typedLocale = locale as Locale;

// Load translations
const messages = await loadMessages(typedLocale);
const t = useTranslations(messages);

const pageTitle = t('Footer.cookie');
const pageDescription = `${t('Footer.cookie')} â€” Killer-Skills`;
---

<Layout locale={locale} title={pageTitle} description={pageDescription}>
  <div class="bg-slate-50/50 dark:bg-slate-950/50 min-h-screen">

    <div class="bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 pt-12 pb-8 md:pt-16 md:pb-12">
      <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
        <h1 class="text-3xl md:text-4xl font-bold text-slate-900 dark:text-white mb-4 tracking-tight">
          {pageTitle}
        </h1>
        <p class="text-sm text-slate-500">Last updated: January 1, 2025</p>
      </div>
    </div>

    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
      <article class="prose prose-slate dark:prose-invert max-w-none">
        <h2>1. What Are Cookies</h2>
        <p>
          Cookies are small text files stored on your device when you visit a website. They help the
          website remember your preferences and improve your browsing experience.
        </p>

        <h2>2. Cookies We Use</h2>
        <p>Killer-Skills uses a minimal set of cookies:</p>

        <table>
          <thead>
            <tr>
              <th>Cookie</th>
              <th>Purpose</th>
              <th>Duration</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>locale</code></td>
              <td>Stores your preferred language</td>
              <td>1 year</td>
            </tr>
            <tr>
              <td><code>theme</code></td>
              <td>Stores your preferred color theme (light/dark)</td>
              <td>Persistent (localStorage)</td>
            </tr>
          </tbody>
        </table>

        <h2>3. Essential Cookies</h2>
        <p>
          The <code>locale</code> cookie is essential for providing content in your preferred language.
          Without it, the site will detect your language on each visit using your browser settings or IP location.
        </p>

        <h2>4. Local Storage</h2>
        <p>
          In addition to cookies, we use browser localStorage to store:
        </p>
        <ul>
          <li><strong>Theme preference:</strong> Your light/dark mode choice</li>
          <li><strong>Favorites:</strong> Skills you have saved as favorites</li>
          <li><strong>Browsing history:</strong> Recently viewed skills</li>
        </ul>
        <p>
          This data is stored entirely on your device and is never sent to our servers.
        </p>

        <h2>5. Third-Party Cookies</h2>
        <p>
          Killer-Skills does not use third-party tracking cookies. We do not use advertising networks
          or third-party analytics services that set cookies.
        </p>

        <h2>6. Managing Cookies</h2>
        <p>
          You can control and delete cookies through your browser settings. Note that disabling cookies
          may affect the functionality of the language preference feature.
        </p>

        <h2>7. Contact</h2>
        <p>
          For questions about our cookie practices, please contact us through our
          <a href="https://github.com/anthropics/skills/issues" class="text-cyan-600 dark:text-cyan-400">GitHub repository</a>.
        </p>
      </article>
    </div>
  </div>
</Layout>
