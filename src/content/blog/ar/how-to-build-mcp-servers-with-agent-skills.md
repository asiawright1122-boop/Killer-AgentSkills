---
title: "كيفية بناء خوادم MCP: دليل كامل باستخدام مهارات الوكيل"
description: "تعرف على كيفية بناء خوادم MCP جاهزة للإنتاج لوكلاء الذكاء الاصطناعي باستخدام مهارة mcp-builder الرسمية. يغطي الإعداد، وتصميم الأدوات، والاختبار، والنشر باستخدام TypeScript و Python."
pubDate: 2026-02-13
author: "فريق Killer-Skills"
tags: ["MCP", "دليل تعليمي", "مهارات الوكيل", "Claude Code"]
lang: "ar"
featured: false
category: "developer-experience"
heroImage: "https://images.unsplash.com/photo-1639762681485-074b7f938ba0?q=80&w=2560&auto=format&fit=crop"
---

# كيفية بناء خوادم MCP التي يستخدمها وكلاء الذكاء الاصطناعي بالفعل

ماذا لو كان وكيل الترميز بالذكاء الاصطناعي الخاص بك يمكنه القيام بأكثر من مجرد كتابة الكود؟ ماذا لو كان بإمكانه إرسال رسائل Slack، والاستعلام عن قواعد البيانات، والنشر في بيئة الإنتاج، وإدارة مسار DevOps بالكامل — كل ذلك من خلال بروتوكول موحد؟

هذا هو بالضبط ما تتيحه **خوادم MCP** (بروتوكول سياق النموذج). ومع مهارة **mcp-builder** الرسمية من مستودع مهارات Anthropic، يمكنك بناء خوادم MCP بجودة الإنتاج في دقائق بدلاً من ساعات.

```bash
# قم بتثبيت مهارة mcp-builder بأمر واحد
npx killer-skills add anthropics/skills/mcp-builder
```

في هذا الدليل، ستتعلم كل ما تحتاج لمعرفته حول بناء خوادم MCP — من فهم البروتوكول إلى نشر خادمك الأول.

## ما هو خادم MCP؟

**خادم MCP** هو خدمة موحدة تعرض الأدوات والموارد والمطالبات لوكلاء الذكاء الاصطناعي لاستهلاكها. فكر فيه كجسر بين مساعد الذكاء الاصطناعي الخاص بك والعالم الحقيقي — قواعد البيانات، وواجهات برمجة التطبيقات (APIs)، وأنظمة الملفات، والخدمات السحابية، والمزيد.

تم إنشاء **بروتوكول سياق النموذج** (MCP) بواسطة Anthropic لحل مشكلة أساسية: يحتاج وكلاء الذكاء الاصطناعي إلى طريقة عالمية للتفاعل مع الخدمات الخارجية. قبل MCP، كان كل تكامل يتطلب كوداً مخصصاً. الآن، بروتوكول واحد يتعامل مع كل شيء.

إليك سبب أهمية MCP:

-   **توافق عالمي** — يعمل مع Claude و Cursor و Windsurf وأي عميل متوافق مع MCP.
-   **واجهة موحدة** — تتبع الأدوات والموارد والمطالبات مخططاً ثابتاً.
-   **تصميم يركز على الأمان** — مصادقة مدمجة، والتحقق من صحة المدخلات، وضوابط الأذونات.
-   **تدفقات عمل قابلة للتركيب** — يمكن للوكلاء ربط أدوات MCP متعددة معاً.

## لماذا تستخدم مهارة mcp-builder؟

تعد مهارة **mcp-builder** واحدة من أقوى المهارات في مستودع Anthropic الرسمي. فهي تحول Claude إلى مطور خوادم MCP متخصص من خلال توفير:

1.  **معرفة عميقة بالبروتوكول** — تقوم المهارة بتحميل مواصفات MCP الكاملة ليفهم Claude كل التفاصيل.
2.  **أفضل الممارسات المضمنة** — تسمية الأدوات، ومعالجة الأخطاء، وأنماط تقسيم الصفحات كلها معدة مسبقاً.
3.  **أدلة خاصة بإطارات العمل** — قوالب محسنة لكل من TypeScript و Python.
4.  **توليد التقييمات** — ينشئ تلقائياً مجموعات اختبار لخادم MCP الخاص بك.

على عكس البناء من الصفر، تتبع مهارة mcp-builder سير عمل منظماً من 4 مراحل:

| المرحلة | ماذا يحدث |
|:------|:-------------|
| **المرحلة 1: البحث** | دراسة واجهة برمجة التطبيقات، وتخطيط تغطية الأدوات، وتصميم المخطط |
| **المرحلة 2: البناء** | تنفيذ الخادم مع معالجة الأخطاء والمصادقة المناسبة |
| **المرحلة 3: المراجعة** | اختبار جميع الأدوات، والتحقق من الاستجابات، وفحص الحالات الاستثنائية |
| **المرحلة 4: التقييم** | إنشاء تقييمات مؤتمتة للتحقق من الجودة |

## البدء: بناء خادم MCP الأول الخاص بك

### الخطوة 1: تثبيت المهارة

أولاً، تأكد من تثبيت واجهة سطر أوامر Killer-Skills:

```bash
npm install -g killer-skills
```

ثم أضف مهارة mcp-builder إلى مشروعك:

```bash
npx killer-skills add anthropics/skills/mcp-builder
```

ستتم إضافة المهارة إلى مجلد `.claude/skills/` وسيتم تفعيلها تلقائياً عندما يكتشف Claude مهام تطوير خادم MCP.

### الخطوة 2: اختر تقنياتك

تدعم مهارة mcp-builder مجموعتين رئيسيتين من التقنيات:

**TypeScript (موصى به)**
```bash
npm init -y
npm install @modelcontextprotocol/sdk zod
```

يوصى بـ TypeScript لعدة أسباب:
-   دعم SDK عالي الجودة من فريق MCP الرسمي.
-   الترميز الثابت يكشف الأخطاء قبل وقت التشغيل.
-   توافق قوي مع بيئات التنفيذ.
-   تتفوق نماذج الذكاء الاصطناعي في توليد كود TypeScript.

**Python**
```bash
pip install mcp pydantic
```

تعد Python خياراً رائعاً إذا كان فريقك يستخدم Python بالفعل أو إذا كنت تقوم بالتكامل مع واجهات برمجة تطبيقات تعتمد بكثافة على Python.

### الخطوة 3: تعريف أدواتك

المفتاح لخادم MCP رائع هو الأدوات المصممة جيداً. إليك قالب:

```typescript
import { McpServer } from "@modelcontextprotocol/sdk/server/mcp.js";
import { z } from "zod";

const server = new McpServer({
  name: "my-api-server",
  version: "1.0.0",
});

server.tool(
  "create_item",
  "ينشئ عنصراً جديداً في النظام",
  {
    name: z.string().describe("اسم العنصر المراد إنشاؤه"),
    description: z.string().optional().describe("وصف اختياري"),
    tags: z.array(z.string()).optional().describe("علامات للتصنيف"),
  },
  async ({ name, description, tags }) => {
    const result = await api.createItem({ name, description, tags });
    return {
      content: [
        {
          type: "text",
          text: JSON.stringify(result, null, 2),
        },
      ],
    };
  }
);
```

### الخطوة 4: تنفيذ أفضل الممارسات

تفرض مهارة mcp-builder العديد من الأنماط الحريفة:

**اتفاقية تسمية الأدوات**
```
✅ github_create_issue
✅ slack_send_message
✅ db_query_users

❌ createIssue
❌ send
❌ doStuff
```

استخدم بادئات ثابتة (اسم الخدمة) + أفعال موجهة للعمل. يساعد هذا الوكلاء على اكتشاف واختيار الأدوات المناسبة بسرعة.

**رسائل خطأ قابلة للتنفيذ**
```typescript
// ❌ سيء
throw new Error("Not found");

// ✅ جيد
throw new Error(
  `المستودع "${owner}/${repo}" غير موجود. ` +
  `تأكد من وجود المستودع وأن لديك صلاحية الوصول. ` +
  `حاول عرض قائمة مستودعاتك أولاً باستخدام github_list_repos.`
);
```

**تعليقات الأدوات**

يجب أن تتضمن كل أداة تعليقات توضيحية تساعد الوكلاء على فهم سلوكها:

```typescript
server.tool(
  "delete_item",
  "يحذف عنصراً بشكل دائم",
  { id: z.string() },
  async ({ id }) => { /* ... */ },
  {
    annotations: {
      readOnlyHint: false,
      destructiveHint: true,
      idempotentHint: true,
    }
  }
);
```

## مثال واقعي: بناء خادم GitHub MCP

لنلقِ نظرة على مثال واقعي. هب أنك تريد بناء خادم MCP يسمح لوكلاء الذكاء الاصطناعي بإدارة مستودعات GitHub.

**اسأل Claude مع تفعيل مهارة mcp-builder:**

> "ابنِ لي خادم MCP لـ GitHub API. يجب أن يدعم إنشاء المشكلات (issues)، وعرض قائمة المستودعات، وإدارة طلبات السحب (pull requests)، والبحث في الكود."

سيقوم Claude بـ:
1.  البحث في توثيق واجهة برمجة تطبيقات GitHub REST.
2.  تخطيط نقاط النهاية التي يجب تغطيتها (عادةً 15-25 أداة).
3.  بناء الخادم الكامل مع مصادقة OAuth المناسبة.
4.  توليد تقييمات اختبار لكل أداة.

والنتيجة هي خادم جاهز للإنتاج مع معالجة مناسبة للأخطاء، وتقسيم الصفحات، وتحديد معدل الطلبات، والمصادقة — وهو أمر يستغرق عادةً أياماً لبنائه يدوياً.

## مبادئ التصميم الأساسية لخوادم MCP

### تغطية واجهة برمجة التطبيقات مقابل أدوات سير العمل

تعلم مهارة mcp-builder توازناً مهماً:

-   **التغطية الشاملة** تمنح الوكلاء مرونة في تركيب العمليات.
-   **أدوات سير العمل** تجمع العمليات الشائعة متعددة الخطوات في استدعاءات فردية.
-   عند عدم التأكد، أعطِ الأولوية لتغطية واجهة برمجة تطبيقات شاملة.

### إدارة السياق

يعمل الوكلاء بشكل أفضل مع البيانات المركزة وذات الصلة:

-   أعد فقط الحقول التي يحتاجها الوكلاء، وليس استجابات واجهة برمجة التطبيقات الكاملة.
-   ادعم تقسيم الصفحات لعمليات القائمة.
-   قم بتضمين فلاتر لتضييق النتائج.

### الاختبار والتقييم

تولد مهارة mcp-builder تقييمات مؤتمتة تختبر:

-   **المسار السعيد** — التشغيل العادي بمدخلات صالحة.
-   **الحالات الاستثنائية** — نتائج فارغة، مجموعات بيانات كبيرة، رموز خاصة.
-   **معالجة الأخطاء** — مدخلات غير صالحة، فشل المصادقة، حدود معدل الطلبات.
-   **سيناريوهات العالم الحقيقي** — تدفقات عمل متعددة الخطوات تربط الأدوات معاً.

## التثبيت عبر Killer-Skills

أسرع طريقة للبدء هي من خلال متجر Killer-Skills:

```bash
# تصفح المهارات الرسمية
npx killer-skills search mcp

# قم بتثبيت mcp-builder
npx killer-skills add anthropics/skills/mcp-builder

# تحقق من التثبيت
npx killer-skills list
```

بمجرد التثبيت، تصبح المهارة متاحة تلقائياً في Claude Code و Claude.ai وأي تكامل مع واجهة برمجة تطبيقات Claude. ما عليك سوى بدء محادثة حول بناء خادم MCP وسيقوم Claude بتحميل تعليمات المهارة.

## ماذا بعد؟

أصبحت خوادم MCP هي الطريقة القياسية لتفاعل وكلاء الذكاء الاصطناعي مع العالم. مع مهارة mcp-builder، لست بحاجة إلى أن تكون خبيراً في بروتوكول MCP — يتولى Claude التعقيد بينما تركز أنت على ما يجب أن يفعله خادمك.

جاهز لبناء خادم MCP الأول الخاص بك؟ إليك كيفية البدء اليوم:

1.  **ثبت المهارة**: `npx killer-skills add anthropics/skills/mcp-builder`
2.  **اختر واجهة برمجة التطبيقات**: اختر خدمة تريد دمجها (Slack, Notion, JIRA, إلخ.)
3.  **صف احتياجاتك**: أخبر Claude بالأدوات التي تحتاجها، وسيبني الخادم بالكامل.
4.  **النشر والاختبار**: استخدم التقييمات المولدة للتحقق من خادمك.

مستقبل تطوير الذكاء الاصطناعي لا يتعلق بكتابة المزيد من الكود — بل يتعلق بإعطاء وكلاء الذكاء الاصطناعي الأدوات المناسبة للعمل. خوادم MCP و Agent Skills تجعل هذا المستقبل ممكناً اليوم.

---

*هل تريد استكشاف المزيد من المهارات؟ تصفح [متجر Killer-Skills](https://killer-skills.com/ar/skills) لاكتشاف المئات من مهارات الوكيل الموثقة لمسار عمل الترميز بالذكاء الاصطناعي الخاص بك.*
